<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vendor Dashboard - Office Pantry Management System</title>
    <link rel="stylesheet" href="vendor-dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Navigation Header -->
    <header class="dashboard-header">
        <div class="header-content">
            <div class="logo-section">
                <div class="logo">
                    <i class="fas fa-utensils"></i>
                </div>
                <div class="logo-text">
                    <h1>Office Pantry</h1>
                    <span class="role-badge vendor">Vendor</span>
                </div>
            </div>
            
            <nav class="header-nav">
                <a href="#" class="nav-link active">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                <a href="#" class="nav-link">
                    <i class="fas fa-dollar-sign"></i>
                    Sales
                </a>
                <a href="#" class="nav-link">
                    <i class="fas fa-tags"></i>
                    Pricing
                </a>
                <a href="#" class="nav-link">
                    <i class="fas fa-boxes"></i>
                    Inventory
                </a>
                <a href="#" class="nav-link">
                    <i class="fas fa-file-alt"></i>
                    Reports
                </a>
            </nav>
            
            <div class="header-actions">
                <div class="notification-bell">
                    <i class="fas fa-bell"></i>
                    <span class="notification-count" id="notificationCount">2</span>
                </div>
                <div class="user-profile">
                    <img src="https://via.placeholder.com/40x40/10b981/ffffff?text=V" alt="Vendor Avatar" class="avatar">
                    <span class="user-name">Vendor User</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="content-container">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-title">
                    <h2>Vendor Dashboard</h2>
                    <p class="page-subtitle">Manage your products, pricing, and sales performance</p>
                </div>
                <div class="page-actions">
                    <button class="btn btn-secondary" id="refreshDataBtn">
                        <i class="fas fa-sync-alt"></i>
                        Refresh Data
                    </button>
                    <button class="btn btn-primary" id="bulkUpdateBtn">
                        <i class="fas fa-edit"></i>
                        Bulk Update Prices
                    </button>
                </div>
            </div>

            <!-- Sales Overview -->
            <div class="sales-overview-container">
                <div class="sales-grid">
                    <div class="sales-card">
                        <div class="sales-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="sales-content">
                            <h4>Today's Sales</h4>
                            <div class="sales-value" id="todaySales">$245.50</div>
                            <div class="sales-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>+12.5%</span>
                            </div>
                        </div>
                    </div>

                    <div class="sales-card">
                        <div class="sales-icon">
                            <i class="fas fa-calendar-week"></i>
                        </div>
                        <div class="sales-content">
                            <h4>This Week</h4>
                            <div class="sales-value" id="weekSales">$1,847.25</div>
                            <div class="sales-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>+8.3%</span>
                            </div>
                        </div>
                    </div>

                    <div class="sales-card">
                        <div class="sales-icon">
                            <i class="fas fa-shopping-cart"></i>
                        </div>
                        <div class="sales-content">
                            <h4>Items Sold</h4>
                            <div class="sales-value" id="itemsSold">127</div>
                            <div class="sales-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>+15 items</span>
                            </div>
                        </div>
                    </div>

                    <div class="sales-card">
                        <div class="sales-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="sales-content">
                            <h4>Profit Margin</h4>
                            <div class="sales-value" id="profitMargin">23.5%</div>
                            <div class="sales-change negative">
                                <i class="fas fa-arrow-down"></i>
                                <span>-2.1%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Pricing Management -->
            <div class="pricing-container">
                <div class="pricing-card">
                    <div class="pricing-header">
                        <h3>Product Pricing Management</h3>
                        <div class="pricing-actions">
                            <button class="btn btn-sm btn-secondary" onclick="exportPricing()">
                                <i class="fas fa-download"></i>
                                Export
                            </button>
                            <button class="btn btn-sm btn-primary" onclick="openBulkPricingModal()">
                                <i class="fas fa-edit"></i>
                                Bulk Update
                            </button>
                        </div>
                    </div>

                    <div class="pricing-filters">
                        <div class="filter-group">
                            <label for="categoryFilter">Category:</label>
                            <select id="categoryFilter" onchange="filterProducts()">
                                <option value="all">All Categories</option>
                                <option value="beverages">Beverages</option>
                                <option value="snacks">Snacks</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="statusFilter">Status:</label>
                            <select id="statusFilter" onchange="filterProducts()">
                                <option value="all">All Products</option>
                                <option value="active">Active</option>
                                <option value="inactive">Inactive</option>
                                <option value="low-stock">Low Stock</option>
                            </select>
                        </div>
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="productSearch" placeholder="Search products..." onkeyup="filterProducts()">
                        </div>
                    </div>

                    <div class="products-table-container">
                        <table class="products-table" id="productsTable">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Category</th>
                                    <th>Current Price</th>
                                    <th>Cost Price</th>
                                    <th>Margin</th>
                                    <th>Stock</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="productsTableBody">
                                <!-- Products will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Sales Analytics -->
            <div class="analytics-container">
                <div class="analytics-grid">
                    <div class="analytics-card">
                        <div class="analytics-header">
                            <h3>Sales Performance</h3>
                            <div class="analytics-controls">
                                <select id="salesPeriod" onchange="updateSalesChart()">
                                    <option value="7days">Last 7 Days</option>
                                    <option value="30days">Last 30 Days</option>
                                    <option value="90days">Last 90 Days</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="salesChart" width="400" height="300"></canvas>
                        </div>
                    </div>

                    <div class="analytics-card">
                        <div class="analytics-header">
                            <h3>Top Selling Products</h3>
                            <div class="analytics-controls">
                                <button class="btn btn-sm btn-secondary" onclick="toggleTopProductsView()">
                                    <i class="fas fa-chart-bar"></i>
                                </button>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="topProductsChart" width="400" height="300"></canvas>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Updates Log -->
            <div class="updates-container">
                <div class="updates-card">
                    <div class="updates-header">
                        <h3>Recent Price Updates</h3>
                        <div class="updates-actions">
                            <button class="btn btn-sm btn-secondary" onclick="clearUpdateLog()">
                                <i class="fas fa-trash"></i>
                                Clear Log
                            </button>
                            <button class="btn btn-sm btn-primary" onclick="exportUpdateLog()">
                                <i class="fas fa-download"></i>
                                Export Log
                            </button>
                        </div>
                    </div>

                    <div class="updates-list" id="updatesList">
                        <!-- Updates will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Price Update Modal -->
    <div class="modal" id="priceUpdateModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Update Product Price</h3>
                <button class="close-btn" onclick="closePriceModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="product-info">
                    <div class="product-image">
                        <i class="fas fa-box" id="productIcon"></i>
                    </div>
                    <div class="product-details">
                        <h4 id="productName">Product Name</h4>
                        <p id="productCategory">Category</p>
                        <div class="current-price">
                            Current Price: <span id="currentPrice">$0.00</span>
                        </div>
                    </div>
                </div>

                <form id="priceUpdateForm">
                    <div class="form-group">
                        <label for="newPrice">New Price ($)</label>
                        <div class="price-input-wrapper">
                            <span class="currency-symbol">$</span>
                            <input type="number" id="newPrice" step="0.01" min="0" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="priceReason">Reason for Change</label>
                        <select id="priceReason" required>
                            <option value="">Select reason...</option>
                            <option value="cost-increase">Cost Increase</option>
                            <option value="market-adjustment">Market Adjustment</option>
                            <option value="promotion">Promotion/Discount</option>
                            <option value="competitor-analysis">Competitor Analysis</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="priceNotes">Additional Notes</label>
                        <textarea id="priceNotes" rows="3" placeholder="Optional notes about this price change..."></textarea>
                    </div>

                    <div class="price-preview">
                        <div class="price-comparison">
                            <div class="old-price">
                                <span class="label">Old Price:</span>
                                <span class="value" id="oldPriceDisplay">$0.00</span>
                            </div>
                            <div class="new-price">
                                <span class="label">New Price:</span>
                                <span class="value" id="newPriceDisplay">$0.00</span>
                            </div>
                            <div class="price-change">
                                <span class="label">Change:</span>
                                <span class="value" id="priceChangeDisplay">$0.00 (0%)</span>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closePriceModal()">Cancel</button>
                <button class="btn btn-primary" onclick="confirmPriceUpdate()">
                    <i class="fas fa-check"></i>
                    Update Price
                </button>
            </div>
        </div>
    </div>

    <!-- Bulk Pricing Modal -->
    <div class="modal" id="bulkPricingModal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Bulk Price Update</h3>
                <button class="close-btn" onclick="closeBulkPricingModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="bulk-pricing-options">
                    <div class="option-group">
                        <h4>Update Method</h4>
                        <div class="radio-group">
                            <label>
                                <input type="radio" name="updateMethod" value="percentage" checked>
                                <span class="radio-custom"></span>
                                Percentage Change
                            </label>
                            <label>
                                <input type="radio" name="updateMethod" value="fixed">
                                <span class="radio-custom"></span>
                                Fixed Amount
                            </label>
                            <label>
                                <input type="radio" name="updateMethod" value="set">
                                <span class="radio-custom"></span>
                                Set New Price
                            </label>
                        </div>
                    </div>

                    <div class="option-group">
                        <h4>Update Value</h4>
                        <div class="input-group">
                            <input type="number" id="bulkUpdateValue" step="0.01" placeholder="Enter value">
                            <span class="input-suffix" id="bulkUpdateSuffix">%</span>
                        </div>
                    </div>

                    <div class="option-group">
                        <h4>Apply To</h4>
                        <div class="checkbox-group">
                            <label>
                                <input type="checkbox" id="selectAllProducts" onchange="toggleAllProducts()">
                                <span class="checkbox-custom"></span>
                                All Products
                            </label>
                            <label>
                                <input type="checkbox" id="selectBeverages">
                                <span class="checkbox-custom"></span>
                                Beverages Only
                            </label>
                            <label>
                                <input type="checkbox" id="selectSnacks">
                                <span class="checkbox-custom"></span>
                                Snacks Only
                            </label>
                            <label>
                                <input type="checkbox" id="selectOther">
                                <span class="checkbox-custom"></span>
                                Other Products
                            </label>
                        </div>
                    </div>
                </div>

                <div class="bulk-preview">
                    <h4>Preview Changes</h4>
                    <div class="preview-table-container">
                        <table class="preview-table" id="bulkPreviewTable">
                            <thead>
                                <tr>
                                    <th>Product</th>
                                    <th>Current Price</th>
                                    <th>New Price</th>
                                    <th>Change</th>
                                </tr>
                            </thead>
                            <tbody id="bulkPreviewBody">
                                <!-- Preview rows will be populated -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeBulkPricingModal()">Cancel</button>
                <button class="btn btn-primary" onclick="confirmBulkUpdate()">
                    <i class="fas fa-check"></i>
                    Apply Changes
                </button>
            </div>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div class="modal" id="confirmationModal">
        <div class="modal-content small">
            <div class="modal-header">
                <h3 id="confirmationTitle">Confirm Action</h3>
                <button class="close-btn" onclick="closeConfirmationModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="confirmation-content">
                    <div class="confirmation-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="confirmation-text">
                        <p id="confirmationMessage">Are you sure you want to proceed?</p>
                        <div class="confirmation-details" id="confirmationDetails"></div>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeConfirmationModal()">Cancel</button>
                <button class="btn btn-danger" id="confirmButton" onclick="executeConfirmedAction()">
                    <i class="fas fa-check"></i>
                    Confirm
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i>
            <p>Processing...</p>
        </div>
    </div>

    <script src="vendor-dashboard.js"></script>
</body>
</html>


